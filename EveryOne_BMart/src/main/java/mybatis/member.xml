<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="member">




	<select id="getMember" resultType="member.model.MemberBean">
		select * from member where id = #{id}
	</select>

	

	<select id="getTotalCount" resultType="int">
		select count(*) from member
		<if test="keyword != null and keyword != ''">
			where id like #{keyword}
			or name like #{keyword}
			or email like #{keyword}
			or phone like #{keyword}
		</if>
	</select>

	<select id="getMemberList" resultType="member.model.MemberBean"
		parameterType="hashmap">
		select * from member
		<if test="keyword != null and keyword != ''">
			where id like #{keyword}
			or name like #{keyword}
			or email like #{keyword}
			or phone like #{keyword}
		</if>
	</select>

	<select id="getBMemList" resultType="member.model.BusinessBean">
		select * from business
		<if test="keyword != null and keyword != ''">
			where id like #{keyword}
			or bcode like #{keyword}
			or type like #{keyword}
		</if>
		order by bcode desc
	</select>



	<insert id="insertBMember">
		insert into business (bcode,id,type,post,addr1,addr2)
		values(#{bcode},#{id},null,#{post},#{addr1},#{addr2})
	</insert>



	<delete id="deleteMember">
		delete from member where id=#{id}
	</delete>

	<update id="updateCate">
		update business set type=#{type}
		where id=#{id}

	</update>


</mapper>

<!-- member.xml -->

