<?xml version="1.0" encoding="UTF-8"?>



<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"https://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="schedule">

    <select id="showSchedule" resultType="schedule.model.CalendarBean">
        SELECT title, startDate, endDate
        FROM schedule
    </select>
    
    <insert id="addSchedule">
        INSERT INTO schedule (
            title,
            startDate,
            endDate
        ) VALUES (
            #{title},
            TO_DATE(#{startDate}, 'YYYY-MM-DD'),
            TO_DATE(#{endDate}, 'YYYY-MM-DD')
        )
    </insert>
    
    <delete id="deleteSchedule">
        DELETE FROM schedule
        WHERE title = #{title}
        AND startDate = TO_DATE(#{startDate}, 'YYYY-MM-DD')
    </delete>
    
    <update id="updateSchedule">
        UPDATE schedule
        SET startDate = TO_DATE(#{startDate}, 'YYYY-MM-DD'),
            endDate = TO_DATE(#{endDate}, 'YYYY-MM-DD')
        WHERE title = #{title}
    </update>
    
</mapper>


	
