<?xml version="1.0" encoding="UTF-8"?>

<!-- address.xml -->
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="address">
	
	<!-- 배송지 내역 조회 -->
	<select id = "getAddressList" resultType = "address">
		select * from address where id=#{id}
	</select>
	
	<!-- 배송지 최대 3개 등록을 위해 개수 조회 -->
	<select id="getAddressCount" resultType="int">
		select count(*) from address where id=#{id}
	</select>
	
	<!-- 배송지 등록 -->
	<insert id="insertAddress">
		insert into address values(addrseq.nextval, #{id}, #{alias}, #{post}, #{addr1}, #{addr2})
	</insert>
	
	<!-- 배송지 상세보기 -->
	<select id="getAddressByAnum" resultType="address">
		select * from address where anum=#{anum}
	</select>
	
	<!-- 배송지 수정 -->
	<update id="updateAddress">
		update address set alias=#{alias}, post=#{post}, addr1=#{addr1}, addr2=#{addr2} where anum=#{anum}
	</update>
	
	<!-- 배송지 삭제 -->
	<delete id="deleteAddress">
		delete from address where anum=#{anum}
	</delete>
</mapper>